<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ϧҽX</title>

</head>

<body>
<div>
<h1>圖形驗證碼表單範例</h1>
<form name="form1" method="post" action="imgcheck.php">
<table><tr><td>
驗證碼：<input type="text" name="checknum" id="checknum"></td>
 <td  bgcolor="#CCCCCC">
 <img src="showrandimg.php" id="rand-img"></td></tr></table>
  ( <a href="#" id="reload-img">重新產生</a> ) 
  <p>
    <input type="reset" name=""  value="重設">
    <input type="submit" name="" value="送出">
  </p>
</form>

<script language="javascript">

(function(){
//sJϧΪơAAΩϧ
var reloadImg = function(dImg) {
  //oϧέ쥻ӷ url
  var sOldUrl = dImg.src;
  //b쥻 url ᭱[WüƪѼơAܦs url
  var sNewUrl = sOldUrl + "?rnd=" + Math.random();
  //NϧΪӷאּs urlAN|sJϧΤF
  dImg.src = sNewUrl;
};

//osJWs
var dReloadLink = document.getElementById("reload-img");
//oҽXϧΤ
var dImg = document.getElementById("rand-img");
  
//wqoӶWs onclick ƥ
dReloadLink.onclick = function(e) {
  //IsƭsJҽXϧ
  reloadImg(dImg);
  //ƥw]ʧ@A]NOnWs}
  if(e) e.preventDefault();
  return false;
};
})();

</script>

</body>
</html>
